{% extends 'base.html' %}
{% load static %}
{% load i18n %}
{% load mytags %}
{% block content %}


    <!-- Main content Start -->
    <div class="container-fluid">

        {% if user.profile.name == "speaker" %}
<div>

            <button type="button" class="btn add_button" name="button"><a href="{% url 'create_project' %}" >{% trans 'add project' %}</a></button>
        </div>

            <div class="row">
                <div class="col-sm-4-lg-10">
                  <div class="card">
                    <h5 class="card-header">{% trans 'available project' %}</h5>

                    <!-- {#<div id="createProject">#}
                    {#<div> #} -->

                    <table class="table table-bordered table-hover table-responsive-md">
                        <thead>
                        <tr>
                            <th scope="col">{% trans 'project name' %}</th>
                            <th scope="col">{% trans 'speaker' %}</th>
                            <th scope="col">{% trans 'field' %}</th>
                            <th scope="col">{% trans 'time to complete' %}</th>
                            <th scope="col">{% trans 'select project' %}</th>


                        </tr>
                        </thead>
                        <tbody>
                        {% for project in project_list %}
                            <tr>
                                <th scope="row"><a style = "color: black"  href="{% url 'project_detail' project.id %}">{{project.name}}</th>
                                <td>{{project.speaker.user.first_name}}</td>
                                <td>{{project.field}}</td>
                                <td>{{project.time_to_complete}}</td>
                                <td> <a href="{% url 'chose_project_detail' project.id %}">{% trans 'select project' %}</a> </td>
                            </tr>
                        {% endfor %}


                        </tbody>
                    </table>

            </div>
            </div>
            </div>






        {% elif user.profile.name == "student" %}

        <div class="row">
            <div class="col">
                <h5 class="card-header">{% trans 'my project' %}</h5>
                <table class="table table-bordered table-hover table-responsive-md">



                    <thead>
                    <tr>
                        <th>{% trans 'project' %}</th>
                        <th>{% trans 'speaker' %}</th>
                        <th>{% trans 'field' %}</th>
                        <th>{% trans 'time to complete' %}</th>
                        <th>{% trans 'edit duplicate project' %}</th>
                        <th>{% trans 'duplicate project' %}</th>
                    </tr>

                    </thead>
                    <tbody>
                    {% for project in user.profile.project_set.personal_projects %}

                        <tr>
                            <td><a href="{% url 'project_detail' project.id %}">{{project.name}}</a> </td>
                            <td>{{project.speaker.user.first_name}}</td>
                            <td>{{project.field}}</td>
                            <td>{{project.time_to_complete}}</td>
                            <td><a href="{% url 'update_project' project.id %}">Edit</a></td>
                            <td><a href="{#   url 'duplicate_create_project' project.id team.id  #}">{% trans 'duplicate' %}</a></td>
                        </tr>

                    {% endfor %}
                    </tbody>

                </table>
            </div>
        </div>
            <div class="row">
                <div class="col">
                    <h5 class="card-header" style="text-align:center; background-color:#425940; color:#fffefc;">{% trans 'available project for' %} {{user.first_name}}</h5>

                    {#<div id="createProject">#}
                    {#<div> #}

                    <table class="table table-bordered table-hover table-responsive-md">
                        <thead>
                        <tr>
                            <th scope="col">{% trans 'project name' %}</th>
                            <th scope="col">{% trans 'speaker' %}</th>
                            <th scope="col">{% trans 'field' %}</th>
                            <th scope="col">{% trans 'time_to_complete' %}</th>
                            <th scope="col">{% trans 'check team' %}</th>


                        </tr>
                        </thead>

                        <tbody>
                        {% for project in available_projects %}
                            <tr>
                                <th scope="row"><a style = "color: black"  href="{% url 'project_detail' project.id %}">{{project.name}}</th>
                                <td>{{project.speaker.user.first_name}}</td>
                                <td>{{project.field}}</td>

                                <td>{{project.time_to_complete}}</td>


                                <td>{% trans 'check_team' %}</a> </td>


                            </tr>
                        {% endfor %}


                        </tbody>
                    </table>

                </div>
            </div>

        {% endif %}

</div>
    </div>


{% endblock %}
<script src="{% static  'backend/js/project_api.js'%}" type="text/javascript"></script>
