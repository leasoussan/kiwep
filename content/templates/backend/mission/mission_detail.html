{% extends 'base.html' %}

{% load i18n %}
{% load static %}
{% load mytags %}
{% load materializecss %}

{% block content %}
    <div class="content">
    <div class="mission_container">
    <div>
        {% if user.is_speaker %}
            <div>
            <button> <a href="{{ object.get_update_url }}">{% trans 'edit_mission' %}</a></button>
        {% endif %}
        </div>


        <a href="{% url 'project_detail' object.id %}"> <button>{% trans 'back_to_project_button' %}</button></a>
    </div>
    <div class="row mission_description">
        <p class="mission_description_text"> {{ object.description }}</p>
        <div>
        </div>
    </div>


    <div class="row mission_extra_detail_box" >
    <div class="col mission_resource">
        <div class="mission_resource_add_btn">
            <!-- Modal Trigger -->
            <button data-target="add_resource" class="btn modal-trigger add_button">{% trans 'add' %}</button>

        </div>
        <div class="mission_resource_list">
            Ressource List
        </div>
    </div>

    <div class="col mission_detail_extra" >
        <div class="mission_detail_edit_button">
            <button class="btn edit_button">Edit</button>

        </div>
        <div class="detail_container">
            <div class ="col mission_detail_box">

                <div class ="detail_title">
                    <h5 class ="small_title">{% trans 'details_header' %}</h5>
                </div>


                <div class="table_detail_mission ">
                    <ul >
                        <li>
                            <span class="label">{% trans 'field' %}:</span>
                            <span class="value">{{object.field}}</span>
                        </li>
                        <li>
                            <span class="label">{% trans 'dead_line' %}</span>
                            <span class="value">{{object.due_date}}</span>
                        </li>
                        <li >
                            <span class="label">{% trans 'difficulty ' %}</span>
                            <span class="value">{{object.level}}</span>
                        </li>
                        <li>
                            <span class="label">{% trans 'points' %}</span>
                            <span class="value">{{object.points}}</span>
                        </li>
                        <li>
                            <span class="label">{% trans 'typ' %}</span>
                            <span class="value">{{object.points}}</span>
                        </li>
                    </ul>

                </div>
            </div>

            <div class="col acquired_skills"><p class ="small_title">{% trans 'acquired_skills' %}</p>

                <div>
                    {% for skill in project.acquired_skills.all %}
                        <li class="collection-item">{{skill.name}}</li>
                    {% endfor %}
                </div>

            </div>
        </div>
    </div>


</div>

    <div class ="answer_block">

        <div class="answer_content">
            {% if user.is_speaker %}
            {% include 'answer/answer.html' with object=object %}
        </div>
        <div class ="answer_status">

        </div>

    </div>
    <div class="comment_section">

        Comment

    </div>



    <div id="add_resource" class="modal">
        <div class="modal-content">


            {% if object.team.project %}
                <form method="POST" class="form-horizontal" action='{% url 'create_resource' object.project.id %}' >
                    {% csrf_token %}
                    {{ resources_form|materializecss }}
                    <button class="btn waves-effect waves-light modal-action modal-close add_button" type="submit" name="action">
                        {% trans 'save'%}</button>
                </form>
            {% endif %}
        </div>

    </div>


{% endblock %}




{% block javascript %}

    <script>
        $(document).ready(function(){
            $('.modal').modal();



        });
    </script>

    <script src="{% static  'backend/js/project_api_details.js'%}" type="text/javascript"></script>
    <script src="{% static  'backend/js/plugin.js'%}" type="text/javascript"></script>







{% endblock javascript %}