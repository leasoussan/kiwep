{% load static %}
{% load i18n %}

{% block navbar %}
<nav class="navbar navbar-expand-lg navbar-light" style = "background-color:#f7d493; color: #7d7d83; border:15px solid white;border-radius: 5px; font-size: 20px;">
    <div class="container-fluid">
        <a class="navbar-brand" href="{% url 'homepage' %}">{% trans 'KIWEP' %}</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse text-center" id="navbarText">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0 " id="center_nav">
              <!-- <button type="button" name="button"> -->
                <li class="nav-item" style="padding-right:5px;">
                    <a class="nav-link active" href="#">About us</a>
                </li>
                <!-- </button><br> -->
                <!-- <button type="button" name="button"> -->
                <li class="nav-item">
                   <a class="nav-link active" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                     Contact
                   </a>
                </li>
                <!-- </button> -->

            </ul>
            <span class="navbar-text">
              <ul class="navbar-nav me-auto mb-2 mb-lg-0"  id = "right-side-nav" style="text-align:center;">
                <li class="nav-item">
                  <form action="{% url 'set_language' %}" method="post">
                      {% csrf_token %}
                      <!-- <i class="fas fa-globe"></i> -->
                      <input name="next" type="hidden" value="{{ redirect_to }}" />

                      <div class="input-group ">
                          <select class="form-select " name="language" onchange="this.form.submit()">
                              {% get_current_language as LANGUAGE_CODE %}
                              {% get_available_languages as LANGUAGES %}
                              {% for lang in LANGUAGES %}
                                  <option value="{{ lang.0 }}" {% if lang.0 == LANGUAGE_CODE %} selected="selected"{% endif %}>
                                      {{ lang.1 }} ({{ lang.0 }})
                                  </option>
                              {% endfor %}
                          </select>
                      </div>
                  </form>
                </li>

                <li class="nav-item dropdown">
                  {% if user.is_authenticated %}
                   <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                   <img src="{% static 'backend/images/avatars/profile-image-1.png' %}"
                                alt="profile image" style = "width:40px; height:40px;">
                                <span>{{user.username}}</span>
                  </a>
                  <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <li><a class="dropdown-item" href="{% url 'logout' %}">{% trans 'logout' %}</a></li>
                  </ul>

                </li>
                {% else %}
                <li class="nav-item active">
                    <a class="nav-link active" href="{% url 'login' %}">Login</a>/<a href="{% url 'register' %}">{% trans 'register' %}</a>
                </li>
                {% endif %}
              </ul>
            </span>
        </div>
      </div>
</nav>
{% endblock %}

<!--  -->
